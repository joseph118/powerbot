import org.powerbot.script.rt6.ClientContext;
import org.powerbot.script.rt6.GameObject;
import org.powerbot.script.rt6.GroundItem;

import java.util.Calendar;
import java.util.Random;

/**
 * Created by Joseph18 on 12/5/2014.
 */
public class Human extends Task<ClientContext> {
    Calendar currentDate;
    Calendar timerDate;

    public Human(ClientContext ctx){
        super(ctx);
        timerDate = Calendar.getInstance();
        incrementTimer();
    }


    private void incrementTimer(){
        Random rn = new Random();
        int rand = rn.nextInt(1) + 200;
        timerDate.add(Calendar.SECOND, rand);
    }

    @Override
    public boolean activate() {
        currentDate = Calendar.getInstance();
        return ctx.players.local().inCombat()
                && currentDate.after(timerDate);
    }

    @Override
    public void execute() {
        System.out.println("Turning Camera");
        GameObject getObject = ctx.objects.shuffle().select().first().poll();
        ctx.camera.turnTo(getObject);
        incrementTimer();
    }

}
